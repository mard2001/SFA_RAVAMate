<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MCP CALIBRATION </title>
    <link rel="icon" class="pageIconLink" href="" />
    
    <!-- BOOTSTRAP -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"/>
    
    <!-- GOOGLE MATERIAL ICON -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    
    <!-- PICTOGRAMMERS ICON -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@mdi/font@7.3.67/css/materialdesignicons.min.css" />
    
    <!-- FONT AWESOME -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- CSS STYLESHEETS -->
    <link rel="stylesheet" href="constant/dynamicColor_stylesheet.css">
    <link rel="stylesheet" href="css/offcanvas_stylesheet.css">
    <link rel="stylesheet" href="css/mcpCalibration_stylesheet.css"> 

    <!--MULTIPLE SELECT  -->
    <link rel="stylesheet" href="css/bootstrap-multiselect.css" type="text/css"/>
    
    <!-- DATE PICKER -->
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/bootstrap.daterangepicker/2/daterangepicker.css" />
    <style>
        #map {
            height: 100%;
            width: 100%;
        }
    </style>
</head>
<body>
    <div class="mainDiv">
        <div class="headerDiv d-flex justify-content-between align-items-center py-3">
            <div class="leftHeader d-flex align-items-center mx-3">
                <button class="btn menubtn" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasMenu" aria-controls="offcanvasExample" >
                    <span class="material-symbols-outlined">
                        menu
                    </span>
                </button>
                <div class="d-flex align-items-center mx-3">
                    <span class="mdi mdi-web mx-2" style="font-size: 30px"></span>
                    <h4 style="margin-bottom: 0" id="headingTitle"></h4>
                </div>
            </div>
            <div class="rightHeader d-flex justify-content-around align-items-center mx-3">
                <button type="button" class="btn btn-light d-flex align-items-center rounded-pill exportBtn">
                    <div class="buttonIcon">
                        <span class="mdi mdi-export-variant" style="font-size: 20px"></span>
                    </div>
                    <p class="my-0">Export</p>
                </button>
                <div class="navbarDropdowns"></div>
                <a href="dashboard.html" class="mx-5" style="text-decoration: none; text-transform: none; color: #040B2F;"><i class="fa-solid fa-x"></i></a>
            </div>
        </div>
        <div class="mapOuterDiv" style="width: 100%; height: 100%;">
            <div id="map"></div>
            <div class="divContainer d-flex py-3 mx-3" id="mainMapDiv">
                <div class="mainMapDiv position-relative" >    
                    <button class="btn showlistBtn" id="showlistTableBtn">
                        <span class="px-5">Show Salesman List</span> 
                        <span class="mdi mdi-menu-down"></span>
                    </button>
                    <div class="position-absolute top-10 start-10">
                        <div class="tableDetails">
                            <div class="collapse multi-collapse my-2" id="showlistTableCollapseExample1" style="display: none;">
                                <div class="mx-2">
                                    <div class="collapseTable collapeSalesmanTable">
                                        <div class="table-responsive">
                                            <table class="table table-primary table-striped my-0 salesmanTable">
                                                <thead>
                                                    <tr class="salesmanTableHeader">
                                                        <th scope="col" colspan="1" class="text-start" style="width:224.69px;">Salesman</th>
                                                        <th scope="col" colspan="1" class="text-center" style="width:280.98px;">Customer</th>
                                                        <th scope="col" colspan="1" class="text-center" style="width:194.33px;">Sales</th>
                                                        <th scope="col" colspan="1" class="text-center">
                                                            <button class="btn refreshbtn p-0" onclick="refreshTerr()"><i class="fa-solid fa-arrow-rotate-right"></i></button>
                                                        </th>
                                                    </tr>
                                                </thead>
                                                <tbody id="salesmanTableDataDisplay" style="display: none;">
                                                </tbody>
                                            </table>
                                            <div class="tableFooterDiv py-2 d-flex justify-content-between align-items-center">
                                                <button class="btn" type="button" id="showlistTableFenceBtn"><span class="mdi mdi-list-box"></span> List of Fence</button>
                                                <p style="margin-bottom: 0" id="totalCustomer"></p>
                                                
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="tableDetails">
                            <div class="collapse multi-collapse m-2" id="showlistTableCollapseExample2">
                                <div class="collapseTable collapeFenceTable ">
                                    <div class="table-responsive">
                                        <table class="table table-primary table-striped my-0 fenceTable">
                                            <thead>
                                                <tr class="salesmanTableHeader">
                                                    <th scope="col" colspan="1" class="text-start">Fence Name</th>
                                                    <th scope="col" colspan="1" class="text-center">Fast Sosyo Store</th>
                                                    <th scope="col" colspan="1" class="text-center">Total Syspro</th>
                                                    <th scope="col" colspan="1" class="text-center">Total Amount</th>
                                                    <!-- <th scope="col" colspan="1" class="text-center">
                                                        <button class="btn refreshbtn"><span class="mdi mdi-refresh"></span></button>
                                                    </th> -->
                                                </tr>
                                            </thead>
                                            <tbody id="fenceTableDataDisplay">
                                            </tbody>
                                        </table>
                                        <div class="tableFooterDiv py-2 d-flex justify-content-end align-items-center">
                                            <p style="margin-bottom: 0" id="totalFence"></p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <button 
                    type="button" 
                    class="btn" 
                    id="toggleTableListBtn" 
                    style="height: 38px; width: 43px;"
                >
                    <i class="fa-solid fa-caret-left" id="toggleTableListBtnIcon"></i>
                </button>
            </div>
            <div class="mcpmapbuttonsdiv d-flex align-items-start flex-column float-end mx-3 my-5" id="mapbuttonsdiv">
                <button type="button" id="mdi-fullscreen-maps-btn">
                    <span class="mdi mdi-fullscreen"></span>
                </button>
                <button type="button" id="mdi-earth-maps-btn"> 
                    <span class="mdi mdi-earth"></span>
                </button>
                <button type="button" id="mdi-satellite-maps-btn">
                    <span class="mdi mdi-satellite-variant"></span>
                </button>
                <button type="button" id="mdi-hand-back-left-outline-maps-btn">
                    <span class="mdi mdi-hand-back-left-outline"></span>
                </button>
                <button type="button" id="mdi-draw-pen-maps-btn">
                    <span class="mdi mdi-draw-pen"></span>
                </button>
                <button type="button" id="mdi-eraser-maps-btn">
                    <span class="mdi mdi-eraser"></span>
                </button>
                <button type="button" id="mdi-refresh-maps-btn">
                    <span class="mdi mdi-refresh"></span>
                </button>
                <button type="button" data-bs-toggle="modal" data-bs-target="#filterDetailsModal">
                    <span class="mdi mdi-account-group"></span>
                </button>
                <button 
                    type="button"
                    id="saveNewFenceModalBtn"
                    style="display: none; background-color: #00C508; border: 2px solid #00C508;" 
                    data-bs-toggle="modal" 
                    data-bs-target="#saveNewFenceModal"
                >
                    <span class="mdi mdi-plus"></span>
                </button>
            </div>
        </div>
    </div>
    

    <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasMenu" aria-labelledby="offcanvasMenuLabel">
        <div class="offcanvas-header">
            <button type="button" class="btn" data-bs-dismiss="offcanvas" aria-label="Close">
                <span class="material-symbols-outlined">
                    menu
                </span>
            </button>
        </div>
        <div class="offcanvas_headTitleDiv">
        </div>
        <div class="offcanvas-body px-0">
            <div class="list-group">
                <div id="sidebarTabItems">
                </div>
            </div>
        </div>
    </div>
    
    <!-- Save New Fence Modal -->
    <div class="modal fade" id="saveNewFenceModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog  modal-lg modal-dialog-centered">
            <div class="modal-content" style="border-radius: 20px;">
                <div class="modalHeader">
                    <div class="modalHeaderdiv">
                        <h5>Save New Fence</h5>   
                        
                    </div>
                </div>
                <div class="modal-body py-4">
                    <div class="mb-3 modalCustomInputDiv">
                        <label for="newFenceName" class="form-label">Name</label>
                        <input type="email" class="form-control" id="newFenceName" aria-describedby="emailHelp">
                    </div>
                    <div class="mb-3 modalCustomInputDiv">
                        <label for="newFenceSysproStores" class="form-label">Syspro Stores</label>
                        <input type="email" class="form-control" id="newFenceSysproStores" aria-describedby="emailHelp" disabled>
                    </div>
                    <div class="mb-3 modalCustomInputDiv">
                        <label for="newFenceSosyoStores" class="form-label">Sosyo Stores</label>
                        <input type="email" class="form-control" id="newFenceSosyoStores" aria-describedby="emailHelp" disabled>
                    </div>
                    <div class="mb-3 modalCustomInputDiv">
                        <label for="newFenceDataRange" class="form-label">Data Range</label>
                        <input type="email" class="form-control" id="newFenceDataRange" aria-describedby="emailHelp" disabled>
                    </div>
                    <div class="modalCustomInputDiv">
                        <label for="newFenceTotalSales" class="form-label">Total Sales</label>
                        <input type="email" class="form-control" id="newFenceTotalSales" aria-describedby="emailHelp" disabled>
                    </div>
                </div>
                <div class="modal-footer d-flex justify-content-center">
                    <button type="button" class="btn" id="createTerritoryBtn" onclick="saveMPA()">Save</button>
                </div>
            </div>
        </div>
    </div>    

    <!-- Filter Modal -->
    <div class="modal fade" id="filterDetailsModal" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Filter Details</h4>
                </div>
                <div class="modal-body">
                    
                    <table class="table" style="width: 100%; text-align: center;">
                        <tr>
                            <td>TYPE:</td>
                            <td>
                                <select class="form-select" aria-label="Select Type" id="salesmanType" style="width: 250px; margin: auto;">
                                    <option selected  value="ALL">All Type</option>
                                    <option value="T">Extruck</option>
                                    <option value="B">Booking</option>
                                    <option value="S">Sweeper</option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <td>SALESMAN:</td>
                            <td>
                                <div id="multipleselectSalesMan" multiple style="width: 250px;"></div>
                            </td>
                        </tr>
                        <tr>
                            <td>DATE:</td>
                            <td>
                                <div id="reportrange1" style="cursor: pointer; color: black; width: 250px; margin: auto;">
                                    <i class="glyphicon glyphicon-calendar fa fa-calendar"></i>&nbsp;
                                    <span>Filter by Date</span> <b class="caret"></b>
                                </div>
                            </td>
                        </tr>
                    </table>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" onclick="proceedFilter()">PROCEED</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Fence Details Modal -->
    <div class="modal fade" id="updateFenceModal" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Fence Info</h4>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div id="fenceContent"></div>    
                    <input type="hidden" id="fenceIDHolder">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-info btn-sm" style="float: left;" data-bs-dismiss="modal" onclick="viewmarkers_inside_fence()">View Markers</button>

                    <button type="button" class="btn btn-danger ml-1" onclick="removeFence()">Remove</button>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <!-- <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script> -->

    <script src="https://maps.googleapis.com/maps/api/js?v=weekly&key=AIzaSyAt0Pxe9_3DTav3DmUQzHfgd07s_LcJo7I&libraries=drawing,geometry,places"></script>
    <script type="text/javascript" src="//cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
    <script type="text/javascript" src="//cdn.jsdelivr.net/bootstrap.daterangepicker/2/daterangepicker.js"></script>
    <script src="https://unpkg.com/@turf/turf@6.3.0/turf.min.js"></script>
    <script type="text/javascript" src="web/web-commons.js"></script>
    <script type="text/javascript" src="constant/dynamicScript.js"></script>
    <script type="text/javascript" src="js/mainjs.js"></script> 
    <script src="HASH/aes.js"></script>
    <script src="nestle/connectionString/LOCALSTORAGE/storage.js"></script>
    <script type="text/javascript" src="js/bootstrap-multiselect.js"></script>
    <script type="text/javascript" src="js/bootbox.min.js"></script>
    <script type="text/javascript" src="js/mcp_mapfunc.js"></script>
</body>
</html>
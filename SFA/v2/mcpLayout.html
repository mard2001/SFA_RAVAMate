<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MCP Layout </title>
    <link rel="icon" href="img/mybuddyLogo.jpg" />

    <!-- BOOTSTRAP -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"/>

    <!-- GOOGLE MATERIAL ICON -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    
    <!-- PICTOGRAMMERS ICON -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@mdi/font@7.3.67/css/materialdesignicons.min.css" />
    
    <!-- FONT AWESOME -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- CSS STYLESHEETS -->
    <link rel="stylesheet" href="constant/dynamicColor_stylesheet.css">
    <link rel="stylesheet" href="css/offcanvas_stylesheet.css">
    <link rel="stylesheet" href="css/mcpLayout_stylesheet.css">
    <link rel="stylesheet" href="css/latestDatatable_stylesheet.css">

    <link rel="stylesheet" type="text/css" href="MaterialDateTimePicker/css/materialDateTimePicker.css"> 

    <!-- DATE PICKER -->
    <link rel="stylesheet" href="DATERANGEPICKER/daterangepicker.css">

    <!--DATA TABLES CSS LATEST VERSION-->
    <link rel="stylesheet" href="Commonusrs/DataTables/datatables.css"/>

    <!--=================================virtual select import-=============================-->
    <link rel="stylesheet" href="css/virtual-select/virtual-select.min.css"  type="text/css"/>
    <script src="js/virtual-select/virtual-select.min.js"></script>

    <!-- SWAL SWEET ALERT 2 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css">

    <style>
        #mcp_weekvisited, #mcp_daysval {
            width: 100% !important;
            max-width: 100% !important;
            box-sizing: border-box;
        }
    </style>

</head>
<body>
    <div class="mainDiv container-fluid">
        <div class="headerDiv d-flex justify-content-between align-items-center py-3" style="color: #FFF;">
            <div class="leftHeader d-flex align-items-center mx-3">
                <button class="btn menubtn" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasMenu" aria-controls="offcanvasExample" style="color: #FFF;">
                    <span class="material-symbols-outlined">
                        menu
                    </span>
                </button>
                <div id="navbarCompanyDetails" class="d-flex">
                </div>
            </div>
            <h1 class="text-center">MCP Layout</h1>
            <div class="rightHeader d-flex justify-content-end align-items-center mx-3" id="defaultrightHeader" style="width: 260px;">
                <div class="navbarDropdowns"></div>
            </div>
        </div>

        <div class="contentDiv ">
            <div class="salesRepDivHeader d-flex justify-content-between px-3 py-3">
                <div class="leftsideHeader">
                    <span class="mdi mdi-web" style="font-size: 20px;"></span>
                    <span id="titleHeading"></span>
                </div>
                <div class="righsideHeader pull-right" style="background-color: transparent; cursor: pointer; color: white;">
                    <!-- <span>Filter by Date</span> 
                    <i class="mdi mdi-calendar-month-outline" style="font-size: 20px;"></i>    
                    <i class="fa-solid fa-caret-down"></i> -->
                    <button type="button" class="btn filterBtn" data-bs-toggle="modal" data-bs-target="#filterReport">
                        Filter
                    </button>
                </div>
            </div>
            <div class="lowerHeaderDiv d-flex justify-content-between px-3">
                
                <div id="dt-body-right" class="buttonsDiv order-2 order-lg-1">
                    <div class="dropdown ">
                        <button class="buttondiv" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                            <span class="mdi mdi-export"></span>
                            Export Report
                        </button>
                        <ul class="dropdown-menu">
                            <li class="dropdown-item" id="excelBtn" aria-controls="stockRequest_TAB">
                                <span class="mdi mdi-microsoft-excel"></span>
                                <span>Export as Excel</span>
                            </li>
                            <li class="dropdown-item" id="printBtn" aria-controls="stockRequest_TAB">
                                <span class="mdi mdi-printer-outline"></span>
                                <span>Print Report</span>
                            </li>
                        </ul>
                    </div>
                    <button class="buttondiv" id="dlTempBtn" aria-controls="stockRequest_TAB">
                        <span class="mdi mdi-file-download-outline"></span>
                        <span>Download Template</span>
                    </button>
                    <button class="buttondiv" id="uploadTempBtn" aria-controls="stockRequest_TAB">
                        <span class="mdi mdi-upload-outline"></span>
                        <span>Upload Template</span>
                    </button>
                    <button class="buttondiv" id="filterResultsBtn" aria-controls="stockRequest_TAB">
                        <span class="mdi mdi-filter-cog-outline"></span>
                        <span>Filter Results</span>
                    </button>
                </div>
                <div class="searchDiv order-1 order-lg-2">
                    <div class="searchbar" id="stockRequest_TAB_filterSearchBar" class="dataTables_filter">
                        <i class="fa-solid fa-magnifying-glass search-icon"></i>
                        <input type="text" class="search-input" name="search" id="stockRequest_TAB_filterSearchBarInputField" placeholder="Search" aria-controls="stockRequest_TAB">
                    </div>
                </div>
            </div>

            <div class="contentTableDiv px-3 mx-1" >
                <table id="stockRequest_TAB" class="display table table-striped table-hover " style="width: 100%; font-size: 10px;"></table>
            </div>
        </div>

        <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasMenu" aria-labelledby="offcanvasMenuLabel">
            <div class="offcanvas-header d-flex justify-content-between">
                <button type="button" class="btn" data-bs-dismiss="offcanvas" aria-label="Close">
                    <span class="material-symbols-outlined">
                        menu
                    </span>
                </button>
                <div class="rightHeader d-flex justify-content-around align-items-center mx-3" id="smallScreenrightHeader">
                    <div class="navbarDropdowns"></div>
                </div>
            </div>
            <div class="offcanvas_headTitleDiv">
            </div>
            <div class="offcanvas-body px-0">
                <div class="list-group">
                    <div id="sidebarTabItems">
                    </div>
                </div>
            </div>
        </div>
    </div>
    

    <!-- Modal -->
    <div class="modal fade" id="filterReport" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
            <h1 class="modal-title fs-5" id="exampleModalLabel">Filter</h1>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="row mb-3 salesmanFilterDiv">
                    <label for="colFormLabelSm" class="col-sm-2 col-form-label col-form-label-sm">Salesman</label>
                    <div class="col-sm-10">
                        <select id="salesmanSelectList" name="salesmanSelectList" placeholder="Select Salesman" data-search="true"></select>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <button type="button" id="filterReportBtn" class="btn proceedBtn">Generate</button>
            </div>
        </div>
        </div>
    </div>

    <div id="mcpmoduleModal" class="modal fade" role="dialog">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">MCP Layout</h4>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">  
                    <!-- <div class="respo"> -->
                        <table style="width: 100% !important;" class="table table-hover">
                           <tbody id="basiccustdetails">

                           </tbody>
                        </table>
                    <!-- </div> -->
                    <hr>
                    <h5 style="margin-bottom: 0;">Update MCP Layout</h5>
                    <span class="updateModalcurrentWeekNumber" style="padding-left: 10px; font-size: 11px; color: var(--cust-grey3);"></span>

                    <table class="table table-hover">
                        <tbody>
                            <tr>
                            <td>Frequency</td>
                            <td>
                                <select name="" id="mcp_freqval" class="form-control">
                                    <option value="" selected disabled hidden>Choose here..</option>
                                    <!-- <option value="1">F1</option> -->
                                    <option value="2">F2</option>
                                    <!-- <option value="3">F3</option> -->
                                    <option value="4">F4</option>
                                    <!-- <option value="8">F8</option> -->
                                </select>
                            </td>
                        </tr>

                        <tr class="notf8days">
                            <td>Days of Visit</td>
                            <td>
                               <select id="mcp_daysval_not_f8" class="form-control">
                                <option value="" selected disabled hidden>Choose here..</option>
                                <option value="1">MONDAY</option>
                                <option value="2">TUESDAY</option>
                                <option value="3">WEDNESDAY</option>
                                <option value="4">THURSDAY</option>
                                <option value="5">FRIDAY</option>
                                <option value="6">SATURDAY</option>
                                <option value="7">SUNDAY</option>
                            </select>
                            </td>
                        </tr>

                          <tr class="f8days">
                            <td>Days of Visit</td>
                            <td>
                               <select name="mcp_daysval[]" id="mcp_daysval" multiple>
                                <option value="" selected disabled hidden>Choose here..</option>
                                <option value="1">MONDAY</option>
                                <option value="2">TUESDAY</option>
                                <option value="3">WEDNESDAY</option>
                                <option value="4">THURSDAY</option>
                                <option value="5">FRIDAY</option>
                                <option value="6">SATURDAY</option>
                                <option value="7">SUNDAY</option>
                            </select>
                            </td>
                        </tr>

                        

                        <tr id="f1selected">
                            <td>Week Visited</td>
                            <td>
                                 <select name="" id="mcp_weekvisited_f1" class="form-control">
                                    <option value="" selected disabled hidden>Choose here..</option>
                                    <option value="1">WEEK 1</option>
                                    <option value="2">WEEK 2</option>
                                    <option value="3">WEEK 3</option>
                                    <option value="4">WEEK 4</option>
                                </select>
                            </td>
                        </tr>

                         <tr id="f2selected">
                            <td>Week Visited</td>
                            <td>
                                 <select name="" id="mcp_weekvisited_f2" class="form-control">
                                    <option value="" selected disabled hidden>Choose here..</option>
                                    <option value="1, 3">WEEK 1, WEEK 3</option>
                                    <option value="2, 4">WEEK 2, WEEK 4</option>
                                </select>
                            </td>
                        </tr>

                        <tr id="f3selected">
                            <td>Week Visited</td>
                            <td>
                                 <select name="mcp_weekvisited[]" id="mcp_weekvisited_f3"  multiple>
                                    <option value="" selected disabled hidden>Choose here..</option>
                                    <option value="1">WEEK 1</option>
                                    <option value="2">WEEK 2</option>
                                    <option value="3">WEEK 3</option>
                                    <option value="4">WEEK 4</option>
                                </select>
                            </td>
                        </tr>

                          <tr>
                            <td>Time of Visit</td>
                            <td>
                                 <input type="text" class="form-control" id="mcp_timevisit">
                            </td>
                        </tr>
                        </tbody>
                    </table>
                    <!-- <div class="row mb-3">
                        <label for="colFormLabelSm" class="col-sm-2 col-form-label col-form-label-sm">Frequency</label>
                        <div class="col-sm-10">
                             <select name="" id="mcp_freqval" class="form-control">
                                <option value="" selected disabled hidden>Choose here..</option>
                                <option value="1">F1</option>
                                <option value="2">F2</option>
                                <option value="3">F3</option>
                                <option value="4">F4</option>
                                <option value="8">F8</option>
                            </select>
                        </div>
                    </div> -->

                    <!-- <div class="row mb-3">
                        <label for="colFormLabelSm" class="col-sm-2 col-form-label col-form-label-sm">Days of Visit</label>
                        <div class="col-sm-10">
                            <select name="mcp_daysval[]" id="mcp_daysval" multiple>
                                <option value="" selected disabled hidden>Choose here..</option>
                                <option value="1">MONDAY</option>
                                <option value="2">TUESDAY</option>
                                <option value="3">WEDNESDAY</option>
                                <option value="4">THURSDAY</option>
                                <option value="5">FRIDAY</option>
                                <option value="6">SATURDAY</option>
                                <option value="7">SUNDAY</option>
                            </select>
                        </div>
                    </div> -->

                    <!-- <div class="row mb-3 mcpweek_div">
                        <label for="colFormLabelSm" class="col-sm-2 col-form-label col-form-label-sm">Week Visited</label>
                        <div class="col-sm-10">
                            <select name="mcp_weekvisited[]" id="mcp_weekvisited"  multiple>
                                <option value="" selected disabled hidden>Choose here..</option>
                                <option value="1">WEEK 1</option>
                                <option value="2">WEEK 2</option>
                                <option value="3">WEEK 3</option>
                                <option value="4">WEEK 4</option>
                            </select>
                        </div>
                    </div> -->

                    <!-- <div class="row mb-3">
                        <label for="colFormLabelSm" class="col-sm-2 col-form-label col-form-label-sm">Time of Visit</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="mcp_timevisit">
                        </div>
                    </div> -->

                    <input type="hidden" id="salesmanselGBLval">
                    <input type="hidden" id="custselGBLval">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn proceedBtn" id="dcrbtn" onclick="exec_update_mcp_layout()">Update</button>
                    <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="uploadCsv">
        <div class="modal-dialog">
            <div class="modal-content w-100">
                <div class="modal-body h-100">
                    <form>
                        <div class="row h-100">
                            <div id="uploaderDiv">
                                <div class="upload-container">
                                    <input class="form-control p-2" type="file" id="formFileMultiple" name="formFileMultiple">
                                </div>
                                
                            </div>
                        </div>
                    </form>
                </div>

                <!-- Modal Footer -->
                <div class="modal-footer">
                    <button id="uploadv1Btn" class="btn btn-primary px-4" onclick="uploadmcplayout()">Upload</button>
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="filterResultsModal" role="dialog">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Filter Table Row Results</h4>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="container">
                        <div class="d-flex justify-content-between mb-2">
                            <div class="titleDiv">
                                <span>Days of Visist:</span>
                            </div>
                            <div class="selectDiv" style="width: 300px;">
                                <select name="filter_daysOfVisit" id="filter_daysOfVisit"></select>
                            </div>
                        </div>
                        <div class="d-flex justify-content-between mb-2">
                            <div class="titleDiv">
                                <span>Week Visited:</span>
                            </div>
                            <div class="selectDiv" style="width: 300px;">
                                <select name="filter_WeekVisited" id="filter_WeekVisited"></select>
                            </div>
                        </div>
                        <div class="d-flex justify-content-between mb-2">
                            <div class="titleDiv">
                                <span>MCP Status:</span>
                            </div>
                            <div class="selectDiv" style="width: 300px;">
                                <select name="filter_MCPStatus" id="filter_MCPStatus"></select>
                            </div>
                        </div>
                        <div class="d-flex justify-content-between mb-2">
                            <div class="titleDiv">
                                <span>Active Flag:</span>
                            </div>
                            <div class="selectDiv" style="width: 300px;">
                                <select name="filter_ActiveFlag" id="filter_ActiveFlag"></select>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn proceedBtn" onclick="exec_filter()">Filter Results</button>
                    <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    
    <!-- DATA TABLES JS LATEST VERSION -->
    <script src="Commonusrs/DataTables/datatables.min.js"></script>

    <!-- DATE PICKER -->
    <script type="text/javascript" src="DATERANGEPICKER/moment.min.js"></script>
    <script type="text/javascript" src="DATERANGEPICKER/daterangepicker.js"></script>

    <!-- <script type="text/javascript" src="/js/multi/dist/js/bootstrap-multiselect.js"></script> -->
    <script type="text/javascript" src="js/jasonday-printThis-c814846/printThis.js"></script>
    <script type="text/javascript" src="js/mainjs.js"></script>

    <!-- SWEET ALERT -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <!-- UPLOADER -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js" integrity="sha512-dfX5uYVXzyU8+KHqj8bjo7UkOdg18PaOtpa48djpNbZHwExddghZ+ZmzWT06R5v6NSk3ZUfsH6FNEDepLx9hPQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://unpkg.com/read-excel-file@5.x/bundle/read-excel-file.min.js"></script>

    <script type="text/javascript" src="MaterialDateTimePicker/js/materialDateTimePicker.js"></script>

    <script src="HASH/md5.js"></script>
    <script src="HASH/aes.js"></script>
    <script src="nestle/connectionString/LOCALSTORAGE/storage.js"></script>
    <script type="text/javascript" src="web/web-commons.js"></script>
    <script type="text/javascript" src="js/bootbox.min.js"></script>
    <script type="text/javascript" src="js/scrolling.js"></script>
    <script type="text/javascript" src="constant/dynamicScript.js"></script>
    <script type="text/javascript" src="js/mcpLayout.js"></script>
</body>
</html>
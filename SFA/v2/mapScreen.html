<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MAPSCREEN </title>
    <link rel="icon" class="pageIconLink" href="" />

    <!-- BOOTSTRAP -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"/>
    
    <!-- GOOGLE MATERIAL ICON -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    
    <!-- PICTOGRAMMERS ICON -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@mdi/font@7.3.67/css/materialdesignicons.min.css" />
    
    <!-- FONT AWESOME -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- CSS STYLESHEETS -->
    <link rel="stylesheet" href="constant/dynamicColor_stylesheet.css">
    <link rel="stylesheet" href="css/offcanvas_stylesheet.css">
    <!-- <link rel="stylesheet" href="css/dashboard_stylesheet.css"> -->
    <link rel="stylesheet" href="css/mapScreen_stylesheet.css">
    <link rel="stylesheet" href="css/digitalmapping_stylesheet.css">
    <!-- <link rel="stylesheet" href="css/bootstrap/bootstrap.css"> -->

    <!--  DATE PICKER -->
    <link rel="stylesheet" href="DATERANGEPICKER/daterangepicker.css">

    <!-- DATATABLES -->
    <link rel="stylesheet" href="https://cdn.datatables.net/2.0.2/css/dataTables.dataTables.min.css">
    
    <!-- DATATABLES BUTTONS -->
    <!-- <link rel="stylesheet" href="https://cdn.datatables.net/2.0.2/css/dataTables.min.css"> -->
    <link rel="stylesheet" href="https://cdn.datatables.net/buttons/2.4.1/css/buttons.dataTables.min.css">

    <!-- SWAL SWEET ALERT 2 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

    <!-- RANGE SLIDER -->
    <link rel="stylesheet" href="css/rangerover/jquery.rangerover.css">

    <!--=================================virtual select import-=============================-->
    <link rel="stylesheet" href="css/virtual-select/virtual-select.min.css"  type="text/css"/>
    <script src="js/virtual-select/virtual-select.min.js"></script>


    
    <style>
        #map {
            height: 100%;
            width: 100%;
        }
        #map2 {
            height: 100%;
            width: 100%;
        }
        #map3 {
            height: 100%;
            width: 100%;
        }
        #customerMapping_MainDiv{
            height: 100%;
            width: 100%;
        }

        #geofencing_MainDiv{
            height: 100%;
            width: 100%;
        }
        
    </style>
</head>
<body>
    
    <div class="mainMapScreenDiv">
        <div class="mainheaderDiv">
            <div class="mapScreenDiv">
                <button class="btn menubtn" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasMenu" aria-controls="offcanvasExample" style="color: #FFF;">
                    <span class="material-symbols-outlined">
                        menu
                    </span>
                </button>

                <div class="buttonmainDiv d-flex justify-content-center p-4">
                    <button type="button" class="btn btn-light d-flex align-items-center rounded-pill" id="digitalmappingMainBtn" onclick="handleTopNav()">
                        <div class="buttonIcon">
                            <span class="mdi mdi-map-marker-radius" style="font-size: 20px"></span>
                        </div>
                        <p class="my-0">Digital Mapping</p>
                    </button>
                </div>     
            </div>
            <div class="arrowDiv text-center ">
                <span class="material-symbols-outlined text-center rotate" id="dropMenu" style="margin-top: 35px;">
                    keyboard_double_arrow_down
                </span>
            </div>
        </div>

        <div id="digitalMapping_MainDiv">
            <div id="map"></div>

            <div class="outerContMain" id='outerContainer_id' style="display: none;"> 
                <div class="loading-table">
                   <i class="fa fa-spinner fa-spin fa-3x fa-fw message"></i> Preparing salesman list ..
                    <span class="sr-only">Loading...</span>
                </div>
    
                <div id='salesmanCategory'>
                    <div class="arrow-side"><i onclick="flip1()" class="fa fa-angle-left arrow-side-icon" aria-hidden="true"></i></div> 
                    <div class='container_salesman'>
                        <table class='fixedHead' id="salesmanCategoryMainTable">
                            <thead>
                                <tr>
                                    <th width='50%'>Salesman</th>
                                    <th width=''>Calls</th>
                                    <th width=''>Unproductive</th>
                                    <th width=''>Selling Hours</th>
                                    <th width=''>Sales</th>
                                </tr>
                            </thead>
                        </table>
                        <div class="scroll" data-simplebar>
                            <table class='' id='floatTab'>
                                <tbody id='dashboardDisplay' class="text-dark">
                                </tbody>
                            </table> 
                        </div>
                        <!-- <div id='overAllTotal'>
                            <span class='pull-right' id='total'></span>
                        </div>   -->
                    </div>
                </div>
                <div id='categoryTable' class="categoryProp hidden">
                    <div class="arrow-side2"><i onclick="flip2()" class="fa fa-angle-left arrow-side-icon2" aria-hidden="true"></i></div>
                    <div class='container_productCat'>
                        <div class="scroll" data-simplebar>
                            <table class="table product-data-container" >
                                <thead>
                                <tr>
                                    <th>CATEGORY</th>
                                    <th class="text-center">SALES</th>
                                    <th class="text-right">CONTRIBUTION</th>
                                </tr>
                                </thead>
                                <tbody id='cateogoryDataTable'></tbody>
                            </table>
                        </div>
                        <div class="table-footer footerDetails"></div>
                    </div>
                </div>
            </div>

            <div id="outerContainer_dataTable" style="max-width: 550px;">
                <div class="salesmappingOuterCont">
                    <div class="arrow-side"><i onclick="flip4()" class="fa fa-angle-left arrow-side-icon4" aria-hidden="true" style="margin-top: 120px !important;"></i></div> 
                    <div class="salesmappingMainCont">
                        <table id="salesMappingTable" class="dispalysalesMappingTable p" style="width:100%; ">
                            <tbody id="salesMappingTable_body">
                            </tbody>
                        </table>
                        <div id='salesmap_overAllTotal'>
                            <span id="fastsosyo_total"></span>
                            <span class='pull-right' id='salesmap_total'></span>
                        </div>  
                    </div>
                </div>
                <div class="geofencingOuterCont" style="display: none;">
                    <div class="arrow-side"><i onclick="flip5()" class="fa fa-angle-left arrow-side-icon5" aria-hidden="true" style="margin-top: 80px !important;"></i></div> 
                    <div class="geofenceMainCont" >
                        <table id="geoFencingTable" class="dispalygeoFencingTable p" style="width:100%; ">
                            <tbody id="geoFencingTable_body">
                            </tbody>
                        </table>
                        <div id='geofencing_overAllTotal' style="display: none;">
                            <span id="geofencing_total"></span>
                            <span id="dataTableGeoFenceTotalSales"></span>
                        </div>  
                    </div>
                </div>
                <div class="productOuterCont" style="display: none;">
                    <div class="arrow-side"><i onclick="flip6()" class="fa fa-angle-left arrow-side-icon6" aria-hidden="true" style="margin-top: 80px !important;"></i></div> 
                    <div class="productMainCont" >
                        <table id="productTable" class="dispalyproductTable p" style="width:100%; ">
                            <tbody id="productTable_body">
                            </tbody>
                        </table>
                        <div id='product_overAllTotal' style="display: none;">
                            <span id="dataTableproductTotalSales" class='pull-right'></span>
                        </div>  
                    </div>
                </div>
            </div>

            <div id="mapStatusOuterCont" style="max-width: 550px; display: none;" >
                <div id="mapStatusHeader">
                    <p>MAP STATUS</p>
                </div>
                <table class="">
                    <tbody>
                        <tr>
                            <th scope="row">Range Date</th>
                            <td id="status_date">---</td>
                        </tr>
                        <tr>
                            <th scope="row">Filtered GTM</th>
                            <td id="status_gtm">---</td>
                        </tr>
                        <tr>
                            <th scope="row">Filtered Salesman</th>
                            <td id="status_salesman">---</td>
                        </tr>

                        <tr>
                            <th scope="row">Map Status</th>
                            <td id="status_map">---</td>
                        </tr>
                        <tr>
                            <th scope="row"></th>
                            <td id="status_map_filtering">---</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div id='mapBtnsContainer1' class="mapbuttonsdiv d-flex align-items-start flex-column float-end mx-3 my-5 DMmapBtnsContainer">
                <button type="button" id='fullScreen'><span class="fs_icon mdi mdi-fullscreen"></span></button>
                <button type="button" id="reportrange"><span class="mdi mdi-calendar-month"></span></button>
                <button type="button" id='setSatellite'><span class="earthtogglebtn1 mdi mdi-earth"></span></button>
                <button type="button" id='zoomIn'><span class="mdi mdi-magnify-plus-outline"></span></button>
                <button type="button" id='zoomOut'><span class="mdi mdi-magnify-minus-outline"></span></button>
                <div class="dropstart">
                    <button type="button" id='slider' data-bs-toggle="dropdown" aria-expanded="false"><span class="mdi mdi-tune-variant"></span></button>
                    <div class="dropdown-menu px-2 sliderDropdown show">
                        <div class="px-3 pb-4">
                            <p style="margin-bottom: 0; font-size: 10px; text-align: center;">Heatmap Radius</p>
                            <div id="range"></div>
                            <div id="opacityrange"></div>
                        </div>
                    </div>
                </div>
                <button type="button" onclick="redirectFenceDetails()"><span class="mdi mdi-microsoft-excel" data-bs-toggle="tooltip" data-bs-placement="left" data-bs-title="Export MCP Calibration Fence Details"></span></button>
                <button type="button" class="geofenceBtns" id="mdi-hand-back-left-outline-maps-btn"><span class="mdi mdi-hand-back-left-outline"></span></button>
                <button type="button" class="geofenceBtns" id="mdi-draw-pen-maps-btn"><span class="mdi mdi-draw-pen"></span></button>
                <button type="button" class="geofenceBtns" id="mdi-eraser-maps-btn"><span class="mdi mdi-eraser"></span></button>

                
                <button type="button" id="mdi-backtomarkers-maps-btn" onclick='showFilteredArray()' data-bs-toggle="tooltip" data-bs-placement="left" data-bs-title="Return Showing All Markers"><span class="mdi mdi-reply-outline"></span></button>

                <button type="button" id='restorBtn' onclick='restoreLoc()'><span class="mdi mdi-crosshairs-gps"></span></button>
            </div>
            <!-- <div id="mapUserControlCont">
                <button class='btn btn-sm btnrestore' id='restorBtn' onclick='restoreLoc()'>
                    <span class="mdi mdi-crosshairs-gps"></span>
                </button>
            </div> -->
            <div class="maploaderDiv" style="display: none ;">
                <div class="maploader"></div>
            </div>

            <div id="saveFenceDiv" class="mx-2" style="z-index: 100; display: none;">
                <button class="btn btn-block btn-primary" id="proceed-mpa-btn" type="button" data-bs-toggle="modal" data-bs-target="#saveModal" style="width: 250px; margin-bottom: 30px;">Save New Fence</button>
            </div>

            <div class="" id="sideClyders" >
                <div>
                    <h5 class="text-center mx-auto">Map Controls</h5>
                </div>
                <hr class="mt-1 pb-1" />
                <div class="card-body sideClydersBody">
                    <div class="form-check form-switch sideClydersInnerDiv">
                        <input class="form-check-input mapControl" type="checkbox" id="showSosyochk">
                        <label class="form-check-label" for="showSosyochk">Show Sosyo Stores</label>
                    </div>
                    <div class="form-check form-switch sideClydersInnerDiv">
                        <input class="form-check-input mapControl" type="checkbox" id="showmarkerschk">
                        <label class="form-check-label" for="showmarkerschk">Show Syspro Stores</label>
                        <br />
                        <div class="btn-group dropstart dropstartControl" style="display: none;">
                            <button type="button" class="btn btn-sm dropdown-toggle ProductiveBtn" data-bs-toggle="dropdown" aria-expanded="false">
                                Filter
                            </button>
                            <ul class="dropdown-menu ProductiveList">
                                <li class="dropdown-item" id="allProdBtn" onclick="changeProductive(0)">
                                    Show All <i class="fa-solid fa-check"></i>
                                </li>
                                <li class="dropdown-item" id="prodBtn" onclick="changeProductive(1)">
                                    Productive
                                </li>
                                <li class="dropdown-item" id="unprodBtn" onclick="changeProductive(2)">
                                    Unproductive
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="form-check form-switch sideClydersInnerDiv">
                        <input class="form-check-input mapControl" type="checkbox" id="clusteringchk"
                            checked>
                        <label class="form-check-label" for="clusteringchk">Cluster</label>
                    </div>
                    <div class="form-check form-switch sideClydersInnerDiv">
                        <input class="form-check-input mapControl" type="checkbox" id="heatmapchk">
                        <label class="form-check-label" for="heatmapchk">Heatmap</label>
                        <br />
                        <!-- Default dropup button -->
                        <div class="btn-group dropstart dropstartControl" style="display: none;">
                            <button type="button" class="btn btn-sm dropdown-toggle heatMapBtn" data-bs-toggle="dropdown" aria-expanded="false">
                                Filter
                            </button>
                            <ul class="dropdown-menu colorLegendList">
                                <li class="dropdown-item" onclick="showHeatMap()">
                                    <span><i class="fa-solid fa-location-dot" style="margin-left: 3px; margin-right: 12px;"></i></span>By Customer Location
                                </li>
                                <li class="dropdown-item" onclick="heatMapSales()">
                                    <span><i class="fa-solid fa-money-bill" style="margin-right: 5px;"></i></span> By Customer Sales
                                </li>
                                <li class="dropdown-item" id="filterByProdCatBtn" onclick="openModalProductHeatmapFilter()">
                                    <span><i class="fa-solid fa-box-open" style="margin-right: 7px;"></i></span>By Product Brand
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="form-check form-switch sideClydersInnerDiv">
                        <input class="form-check-input mapControl" type="checkbox" id="colorperdaychk">
                        <label class="form-check-label" for="perdaycolorchk">Set Marker Colors <br />by MCP Day</label>
                        <br />
                        <!-- Default dropup button -->
                        <div class="btn-group dropstart dropstartColorLegendBtn">
                            <button type="button" class="btn btn-sm dropdown-toggle colorLegendBtn" data-bs-toggle="dropdown" aria-expanded="false" >
                                Color Legend
                            </button>
                            <ul class="dropdown-menu heatMapList">
                                <li class="dropdown-item" onclick="setMarkerDay(-1)">
                                    <span>
                                        <span class="mdi mdi-map-marker-multiple-outline"></span>
                                    </span> 
                                    View All Markers
                                </li>
                                <hr class="m-1">
                                <li class="dropdown-item" onclick="setMarkerDay(1)">
                                    <span><i class="fa-solid fa-location-dot" style="color: #ff3419;"></i></span> Monday
                                </li>
                                <li class="dropdown-item" onclick="setMarkerDay(2)">
                                    <span><i class="fa-solid fa-location-dot" style="color: #30965d;"></i></span> Tuesday
                                </li>
                                <li class="dropdown-item" onclick="setMarkerDay(3)">
                                    <span><i class="fa-solid fa-location-dot" style="color: #e3db32;"></i></span> Wednesday
                                </li>
                                <li class="dropdown-item" onclick="setMarkerDay(4)">
                                    <span><i class="fa-solid fa-location-dot" style="color: #5b2770;"></i></span> Thursday
                                </li>
                                <li class="dropdown-item" onclick="setMarkerDay(5)">
                                    <span><i class="fa-solid fa-location-dot" style="color: #f76c00;"></i></span> Friday
                                </li>
                                <li class="dropdown-item" onclick="setMarkerDay(6)">
                                    <span><i class="fa-solid fa-location-dot" style="color: #094375;"></i></span> Saturday
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="form-check form-switch sideClydersInnerDiv">
                        <input class="form-check-input mapControl" type="checkbox" id="channelchk">
                        <label class="form-check-label" for="channelchk">Set Marker by Channel</label>
                    </div>
                    <div class="form-check form-switch sideClydersInnerDiv">
                        <input class="form-check-input mapControl" type="checkbox" id="geofencechk" >
                        <label class="form-check-label" for="geofencechk">Display Geo Fence</label>
                    </div>
                </div>
            </div>

            <div class="digiMapDashboard" id="digiMapDashboard">
                <div class="d-flex justify-content-around align-items-start">
                    <div class="digiMapDash_salesman mx-2 boxcont">
                        <span class="digiMapDash_salesman_label">SALESMAN</span>
                        <div class="imageDiv">
                            <img src="img/salesmanPic2.png" class='salesmanPic_img' id='salesmanPic_img' /> 
                        </div>
                        <span class="digiMapDash_salesman_total" style="margin-left: 5px;">-</span>
                    </div>
                    <div class="digiMapDash_store mx-2 boxcont">
                        <span class="digiMapDash_store_label">STORES</span>
                        <div class="imageDiv">
                            <img src="img/storePic2Png.png" class='storePic_img' id='storePic_img' /> 
                        </div>
                        <span class="digiMapDash_store_total" style="margin-left: 5px;">-</span>
                    </div>
                    <div class="digiMapDash_sales mx-2 boxcont">
                        <span class="digiMapDash_sales_label">SALES</span>
                        <div class="imageDiv">
                            <img src="img/salesPic.png" class='salesPic_img' id='salesPic_img' /> 
                        </div>
                        <span class="digiMapDash_sales_total"style="padding-right: 5px;" >-</span>
                    </div>
                </div>
            </div>
        </div> 
    </div>
    
    <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasMenu" aria-labelledby="offcanvasMenuLabel">
        <div class="offcanvas-header">
            <button type="button" class="btn" data-bs-dismiss="offcanvas" aria-label="Close">
                <span class="material-symbols-outlined">
                    menu
                </span>
            </button>
        </div>
        <div class="offcanvas_headTitleDiv">
        </div>
        <div class="offcanvas-body px-0">
            <div class="list-group">
                <div id="sidebarTabItems">
                </div>
            </div>
        </div>
    </div>


    <div class="modal fade" id="dispModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header modal-header-info">
                    <h2>Territory Information</h2>
                </div>
                <div class="modal-body">
                    <table class="table table-striped">
                        <tr>
                            <td><label>Territory Name:</label></td>
                            <td><p id="name-lbl"></p></td>
                        </tr>

                        <tr>
                            <td><label>Salesman:</label></td>
                            <td><p id="disp-salesman"></p></td>
                        </tr>

                        <tr>
                            <td><label>Date Created:</label></td>
                            <td><p id="date-created"></p></td>
                        </tr>

                        <tr>
                            <td><label>Color:</label></td>
                            <td><p id="terrcolor"></p></td>
                        </tr>
                        
                        <input type="hidden" name="mpa-id" id="mpa-id">
                    </table>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-danger" onclick="deleteMPA()">Delete</button>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div>

    <div class="modal fade" id="salesmanSselectionModal" role="dialog" data-bs-backdrop="static" data-bs-keyboard="false">
        <div class="modal-dialog">
            <div class="modal-content" id="">
                <div class="modal-header">
                    <h6 class="modal-title">Selected date: <span id="salectedDates"></span></h6>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div style="text-align: center; margin: 0 auto;" >
                        <span id="fetchCont" class="">
                            <i class="fa fa-spin fa-spinner"></i> Fetching data...
                        </span>
                    </div>
                    <div id="headListCont">
                        <span>Select Your Preferred GTM:</span>
                        <select id="gtmList" name="gtmList[]" multiple></select>
                    </div>
                    <div id="salesmanListCont" >
                        <span>Select Your Preferred Salesman:</span>
                        <select id="salesmanList" name="salesmanList[]" multiple></select>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-primary filterBtn1" onclick="displayChosenSalesman()">Filter By GTM</button>
                    <button type="button" class="btn btn-info filterBtn2" data-bs-dismiss="modal" onclick="displaySalesManV2()" style="display: none;">Select Salesman</button>
                    <button type="button" class="btn btn-outline-secondary closeBtn1" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-outline-secondary closeBtn2" onclick="goBackSelect()" style="display: none;" >Back</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="duplicateUserModal" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">SESSION ENDED</h4>
                </div>
                <div class="modal-body">
                    <p>Sorry, your session has been disconnected. Another user is currently using your account.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" onclick="cofirmationDupUser()">GOT IT</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="dispModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header modal-header-info">
                    <h4>Territory Information</h4>
                </div>
                <div class="modal-body">
                    <table class="table table-striped">
                        <tr>
                            <td><label>Territory Name:</label></td>
                            <td><p id="name-lbl"></p></td>
                        </tr>
                        <tr>
                            <td><label>Salesman:</label></td>
                            <td><p id="disp-salesman"></p></td>
                        </tr>
                        <tr>
                            <td><label>Date Created:</label></td>
                            <td><p id="date-created"></p></td>
                        </tr>
                        <tr>
                            <td><label>Color:</label></td>
                            <td><p id="terrcolor"></p></td>
                        </tr>
                        <input type="hidden" name="mpa-id" id="mpa-id">
                    </table>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-danger" onclick="deleteMPA()">Delete</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Save New Fence Modal -->
    <div class="modal fade" id="saveModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog  modal-lg modal-dialog-centered">
            <div class="modal-content" style="border-radius: 20px;">
                <div class="modalHeader">
                    <div class="modalHeaderdiv">
                        <h5>Save New Fence</h5>   
                        
                    </div>
                </div>
                <div class="modal-body py-4">
                    <div class="mb-3 modalCustomInputDiv">
                        <label for="newFenceName" class="form-label">Name</label>
                        <input type="text" class="form-control" id="newFenceName" aria-describedby="emailHelp">
                    </div>
                    <div class="row">
                        <div class="col mb-3 modalCustomInputDiv">
                            <label for="newFenceSysproStores" class="form-label">Productive Syspro Stores</label>
                            <input type="text" class="form-control" id="newFenceProdSysproStores" aria-describedby="emailHelp" disabled>
                        </div>
                        <div class="col mb-3 modalCustomInputDiv">
                            <label for="newFenceSysproStores" class="form-label">Unproductive Syspro Stores</label>
                            <input type="text" class="form-control" id="newFenceUnProdSysproStores" aria-describedby="emailHelp" disabled>
                        </div>
                    </div>
                    <div class="mb-3 modalCustomInputDiv">
                        <label for="newFenceSysproStores" class="form-label">Total Syspro Stores</label>
                        <input type="text" class="form-control" id="newFenceSysproStores" aria-describedby="emailHelp" disabled>
                    </div>
                    <div class="mb-3 modalCustomInputDiv">
                        <label for="newFenceSosyoStores" class="form-label">Sosyo Stores</label>
                        <input type="text" class="form-control" id="newFenceSosyoStores" aria-describedby="emailHelp" disabled>
                    </div>
                    <div class="mb-3 modalCustomInputDiv">
                        <label for="newFenceDateRange" class="form-label">Date Range</label>
                        <input type="text" class="form-control" id="newFenceDateRange" aria-describedby="emailHelp" disabled>
                    </div>
                    <div class="modalCustomInputDiv">
                        <label for="newFenceTotalSales" class="form-label">Total Sales</label>
                        <input type="text" class="form-control" id="newFenceTotalSales" aria-describedby="emailHelp" disabled>
                    </div>
                </div>
                <div class="modal-footer d-flex justify-content-center">
                    <button type="button" class="btn" id="createTerritoryBtn" onclick="saveMPA()">Save</button>
                </div>
            </div>
        </div>
    </div>  

    <!-- Fence Details Modal -->
    <div class="modal fade" id="updateFenceModal" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Fence Info</h4>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div id="fenceContent"></div>    
                    <input type="hidden" id="fenceIDHolder">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-info btn-sm" style="float: left;" data-bs-dismiss="modal" onclick="viewmarkers_inside_fence()">View Markers</button>

                    <button type="button" class="btn btn-danger ml-1" onclick="removeFence()">Remove</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="customerChannelFilterModal" role="dialog" data-bs-backdrop="static" data-bs-keyboard="false">
        <div class="modal-dialog">
            <div class="modal-content" id="">
                <div class="modal-header">
                    <h6 class="modal-title">Filter Markers by their Channel</h6>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" onclick="closeChannelModal()"></button>
                </div>
                <div class="modal-body">
                    <div id="">
                        <span>Select Preferred Channel</span>
                        <select id="channelList" name="channelList[]" multiple></select>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-primary" onclick="filterChannel()">Filter By Channel</button>
                    <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal" onclick="closeChannelModal()">Close</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="productHeatmapFilterModal" role="dialog" data-bs-backdrop="static" data-bs-keyboard="false">
        <div class="modal-dialog">
            <div class="modal-content" id="">
                <div class="modal-header">
                    <h6 class="modal-title">Filter Products for Heatmap Visualization</h6>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" onclick="closeChannelModal()"></button>
                </div>
                <div class="modal-body">
                    <div id="">
                        <span>Select Preferred Brand</span>
                        <select id="prodCategoryList" name="prodCategoryList[]"></select>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-primary" onclick="heatMapProductCat()">Filter By Brand</button>
                    <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal" onclick="">Close</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  
    <script src="https://maps.googleapis.com/maps/api/js?v=quarterly&key=AIzaSyAt0Pxe9_3DTav3DmUQzHfgd07s_LcJo7I&libraries=drawing,geometry,places,visualization"></script>
    <!-- <script src="https://maps.googleapis.com/maps/api/js?v=weekly&key=AIzaSyAt0Pxe9_3DTav3DmUQzHfgd07s_LcJo7I&libraries=drawing,geometry,places"></script> -->

    <script type="text/javascript" src="js/mainjs.js"></script>

    <!-- DATATABLES -->
    <!-- <script type="text/javascript" src="https://cdn.datatables.net/2.0.2/js/dataTables.min.js"></script> -->
    <script src="https://cdn.datatables.net/2.0.2/js/dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.4.1/js/dataTables.buttons.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.4.1/js/buttons.html5.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.4.1/js/buttons.print.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>

    <!-- CHART JS -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- SWEET ALERT -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <!-- GOOGLE MAP CLUSTER MODIFICATION -->
    <script src="https://unpkg.com/@googlemaps/markerclusterer@2.3.1/dist/index.min.js"></script>
    
    <!-- MOMENT JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>

    <!-- RANGE SLIDER -->
    <!-- <script src="//code.jquery.com/jquery.min.js"></script>     -->
    <script src="js/rangerover/jquery.rangerover.js"></script>

    <script type="text/javascript" src="DATERANGEPICKER/moment.min.js"></script>
    <script type="text/javascript" src="DATERANGEPICKER/daterangepicker.js"></script>
    <script src="HASH/md5.js"></script>
    <script src="HASH/aes.js"></script>
    <script type="text/javascript" src="web/web-commons.js"></script>

    <script src="nestle/connectionString/LOCALSTORAGE/storage.js"></script>
    <script type="text/javascript" src="web/web-commons.js"></script>
    <script type="text/javascript" src="js/bootbox.min.js"></script>
    <script type="text/javascript" src="js/scrolling.js"></script>
    <script type="text/javascript" src="constant/dynamicScript.js"></script>
    <script type="text/javascript" src="js/mapScreenImproved.js"></script> 
</body>
</html>